@*@model IEnumerable<WriteData.Javaobject>*@
@{
    ViewData["Title"] = "Skidata";
}

<script type="text/javascript">
    window.onload = function () {

        //initial value of dataPoints
        var dps = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model) as string);

        var chart = new CanvasJS.Chart("chartContainer",{
            animationEnabled: true,
            title: {
                text: "Martins Statistik"
            },
            axisX:{
                title: "Datum",
                labelFontSize: 20,
                labelFontColor: "dimGrey"
            },
            axisX: {
                labelAngle: -30
            },
            dataPointMaxWidth: 15,
            data: [
			{
			    type: "column",
			    //type: "column",
			    indexLabel: "{y}, Kl: {xLable}",
			    dataPoints: dps,
			}
            ]

        });
        var updateChart = function () {
            chart.render();
        };

        updateChart();
    }
</script>


<!-- START SCRIPT FOR LINECHART VERTICAL DROPSUM -->

<script type="text/javascript">
    google.charts.load('current', {'packages':['line']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var vertData =@Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model)as string);
        var data = new google.visualization.DataTable(); 
        data.addColumn('number', 'Day');
        data.addColumn('number', 'Guardians of the Galaxy');
        data.addColumn('number', 'The Avengers');
        data.addColumn('number', 'Transformers: Age of Extinction');

        data.addRows([
          [1,  37.8, 80.8, 41.8],
          [2,  30.9, 69.5, 32.4],
          [3,  25.4,   57, 25.7],
          [4,  11.7, 18.8, 10.5],
          [5,  11.9, 17.6, 10.4],
          [6,   8.8, 13.6,  7.7],
          [7,   7.6, 12.3,  9.6],
          [8,  12.3, 29.2, 10.6],
          [9,  16.9, 42.9, 14.8],
          [10, 12.8, 30.9, 11.6],
          [11,  5.3,  7.9,  4.7],
          [12,  6.6,  8.4,  5.2],
          [13,  4.8,  6.3,  3.6],
          [14,  4.2,  6.2,  3.4]
        ]);

        var options = {
            chart: {
                title: 'Box Office Earnings in First Two Weeks of Opening',
                subtitle: 'in millions of dollars (USD)'
            },
            width: 900,
            height: 500
        };

        var chart = new google.charts.Line(document.getElementById('linechart_material'));
        chart.draw(data, options);
    }
</script>
<!-- END SCRIPT FOR LINECHART VERTICAL DROPSUM -->
    <!-- START chart for total rides per hour-->
<section id="column">
    <div class="container">
        <div class="page-header">
            <h2><img src="~/images/logos/myskistarlogo.png" /> <small>....so long so far....</small></h2>
        </div>

        <div class="navbar navbar-default">
            <div class="dropdown navbar-form">
                <form class="navbar-form navbar-right" asp-controller="Home" asp-action="Skidata" method="post">
                    @Html.DropDownList("dropdownDates", (SelectList)ViewBag.dropdownDates, "All", new { @class = "btn btn-default dropdown-toggle", data_toggle = "dropdown" })
                    <button type="submit" class="btn btn-primary">Visa graf</button>
                </form>
            </div>
        </div>
        <hr />

        <div class="container">
            <div class="row">
                <div id="chartContainer" style="height: 300px; width: 100%;"></div>
            </div>
        </div>
        <hr />
    </div>

</section>
<!-- END chart for total rides per hour-->
<!--######################################-->
<!-- START chart for  vertical per hour-->
<section id="vertical">
    <div class="container">
        <div class="page-header">
            <h2>....Just a nother graph....</h2>
        </div>
        <div class="navbar navbar-default">
            <div class="dropdown navbar-form">
                <form class="navbar-form navbar-right" asp-controller="Home" asp-action="Skidata" method="post">
                    @Html.DropDownList("sumDay", (SelectList)ViewBag.dropdownDates, "All", new { @class = "btn btn-default dropdown-toggle", data_toggle = "dropdown" })
                    <button type="submit" class="btn btn-primary">Visa graf</button>
                </form>
            </div>
        </div>
        <hr />
        <div class="row">
            <div id="linechart_material" style="width: 100%; height: 500px"></div>
        </div>
    </div>
</section>


